<html>

<head>
  <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"></link>
    <link rel="stylesheet" href="layout.css"></link>
</head>
<body>

    <form>
      <div class="row">

        <div class="form-group">
          <label class="col-md-4 control-label"><strong>First name:</strong></label>
            <input type="text" class="col-md-8 form-control hidden " readonly>
        </div>
      </div>
      <div class="row">
        <div class="form-group">
          <label class="col-md-4 control-label"><strong>Last name: </strong></label>
          <div class="col-md-8">
            <input type="text" class="col-md-8 form-control hidden" readonly >
          </div>
        </div>
        </div>
        <div class="row">
        <div class="form-group">
          <label class="col-md-4 control-label"><strong> Username: </strong></label>
          <div class="col-md-8">
            <input type="text" class="form-control hidden" readonly>
        </div>
        </div>
        </div>
        <div class="row">
        <div class="form-group">
          <label class="col-md-4 control-label" ><strong>Email: </strong></label>
          <div class="col-md-8">
            <input type="text" class="form-control " name="email" id="email">
          
          </div>
        </div>
        </div>
      
        <div class="row">
        <div class="form-group">
          <label class="col-md-4 control-label"><strong>Phone number: </strong></label>
          <div class="col-md-8">
            <input type="text" class="form-control " name="phoneNumber" id="phno">
            
          </div>
        </div>
        </div>
        <div class="row">
        <div class="form-group">
          <label class="col-sm-4 control-label"><strong>Address: </strong></label>
          <div class="col-sm-8">
            <input type="text" class="form-control " name="address" id="add">
           
          </div>
        </div>
        </div>
        <div class="row">
        <div class="form-group">
          <label class="col-sm-4 control-label"><strong>City: </strong></label>
          <div class="col-sm-8">
            <input type="text" class="form-control " name="city" id="city">
            
          </div>
        </div>
        </div>
        <div class="row">
        <div class="form-group">
          <label class="col-sm-4 control-label"><strong>State: </strong></label>
          <div class="col-sm-8">
            <input type="text" class="form-control " name="state" id="state">
           
          </div>
        </div>
        </div>
        <div class="row">      
            <div class="form-group">
          <label class="col-sm-4 control-label"><strong>Country: </strong></label>
          <div class="col-sm-8">
            <input type="text" class="form-control " name="country" id="country">
           
          </div>
        </div>
        </div>
        <div class="row">
        <div class="form-group">
          <label class="col-sm-4 control-label"><strong> pin-code: </strong></label>
          <div class="col-sm-8">
            <input type="text" class="form-control " name="pin" id="pin">
           
          </div>
        </div>
        </div>
        <br>
        <div class="col-sm-offset-4 col-sm-8">
          <centre><button id="edit-profile" type="button" class="btn btn-warning" onclick="update()">Edit Profile</button></centre>
          
        </div>
      </form>
      <script>
        function update()
        { 
          //var des1=document.myform.login.value;
          var email=document.getElementById('email').value;
          var phno=document.getElementById('phno').value;
          var add=document.getElementById('add').value;
          var city=document.getElementById('city').value;
          var state=document.getElementById('state').value;
          var country=document.getElementById('country').value;
          var pin=document.getElementById('pin').value;
          var obj={"email":email,"phno":phno,"add":add,"city":city,"state":state,"country":country,"pin":pin};
          console.log(obj);
    
          fetch("http://localhost:8080/expReimbursement/webapi/controller/eupdateprofile", {
                  body: JSON.stringify(obj),
                  headers: {
                      "Content-Type": "application/json"
                  },
                  method: "PUT"
              })
            .then((response)=>response.json())
            .then((json)=>displayProfile(json))
            .catch(err=>console.log('Request failed'));
        function displayProfile(res)
        {  
          
            console.log(2);
            
                  if(res.status==="true")
                  {
                    alert("updated succesfully");
                          window.location.href="EmployeeHomePage.html";
                  }
                  else
                  {
                      alert("server error");
                  } 
            
         
         
                }
}
    </script>
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</body>

</html>